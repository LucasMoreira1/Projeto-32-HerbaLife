<!-- createCustomer.html -->

<div class="resource-content">
    <h2 class="text-2xl font-semibold mb-4">Create Customer</h2>

    <!-- Customer creation form -->
    <form id="customerForm" class="max-w-sm space-y-4">
        <div class="flex flex-col">
            <label for="customerName" class="text-sm font-medium">Customer Name:</label>
            <input type="text" id="customerName" name="customerName" required
                class="border border-gray-300 rounded-md p-2 focus:outline-none focus:ring focus:ring-lime-300"
            >
        </div>

        <div class="flex flex-col">
            <label for="customerEmail" class="text-sm font-medium">Email:</label>
            <input type="email" id="customerEmail" name="customerEmail" required
                class="border border-gray-300 rounded-md p-2 focus:outline-none focus:ring focus:ring-lime-300"
            >
        </div>

        <div class="flex flex-col">
            <label for="customerPhone" class="text-sm font-medium">Phone Number:</label>
            <input type="tel" id="customerPhone" name="customerPhone"
                class="border border-gray-300 rounded-md p-2 focus:outline-none focus:ring focus:ring-lime-300"
            >
        </div>

        <button type="submit" class="bg-lime-500 text-white rounded-md py-2 px-4 hover:bg-lime-600
            focus:outline-none focus:ring focus:ring-lime-300"
        >
            Create Customer
        </button>
    </form>

    <!-- Display success or error messages here -->
    <div id="message" class="text-red-500 text-sm mt-4"></div>
</div>


<script>
    // JavaScript code for handling the form submission
    const customerForm = document.getElementById("customerForm");
    const messageDiv = document.getElementById("message");

    customerForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        const formData = new FormData(customerForm);

        // Send a request to your server to create the customer
        try {
            const response = await fetch("createCustomerEndpoint.php", {
                method: "POST",
                body: formData,
            });

            if (response.ok) {
                messageDiv.innerHTML = "Customer created successfully!";
            } else {
                messageDiv.innerHTML = "Error creating customer. Please try again.";
            }
        } catch (error) {
            console.error(error);
            messageDiv.innerHTML = "An error occurred. Please try again later.";
        }
    });
</script>
